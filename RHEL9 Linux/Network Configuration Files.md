# Network Configuration Files
## Connection Configuration Files
Starting with Red Hat Enterprise Linux 8, network configurations are stored in the `/etc/NetworkManager/system-connections/` directory. This configuration location uses the key file format instead of the `ifcfg` format. However, the previously stored configurations at `/etc/sysconfig/network-scripts/` continue to work. 
The `/etc/NetworkManager/system-connections/` directory stores any changes with the ``nmcli con mod _`name`_`` command.
**Comparison of NetworkManager Settings and Key File Format File**

| `nmcli con mod`                  | `*.nmconnection` file                       | Effect                                                                                                                                                                                            |
| :------------------------------- | :------------------------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `ipv4.method manual`             | `[ipv4]`<br><br>`method=manual`             | Configure IPv4 addresses statically.                                                                                                                                                              |
| `ipv4.method auto`               | `[ipv4]`<br><br>`method=auto`               | Look for configuration settings from a DHCPv4 server. It shows static addresses only when it has information from DHCPv4.                                                                         |
| `ipv4.addresses 192.0.2.1/24`    | `[ipv4]`<br><br>`address1=192.0.2.1/24`     | Set a static IPv4 address and network prefix. For more than one connection address, the `address2` key defines the second address, and the `address3` key defines the third address.              |
| `ipv4.gateway 192.0.2.254`       | `[ipv4]`<br><br>`gateway=192.0.2.254`       | Set the default gateway.                                                                                                                                                                          |
| `ipv4.dns 8.8.8.8`               | `[ipv4]`<br><br>`dns=8.8.8.8`               | Modify `/etc/resolv.conf` to use this name server.                                                                                                                                                |
| `ipv4.dns-search example.com`    | `[ipv4]`<br><br>`dns-search=example.com`    | Modify `/etc/resolv.conf` to use this domain in the `search` directive.                                                                                                                           |
| `ipv4.ignore-auto-dns true`      | `[ipv4]`<br><br>`ignore-auto-dns=true`      | Ignore DNS server information from the DHCP server.                                                                                                                                               |
| `ipv6.method manual`             | `[ipv6]`<br><br>`method=manual`             | Configure IPv6 addresses statically.                                                                                                                                                              |
| `ipv6.method auto`               | `[ipv6]`<br><br>`method=auto`               | Configure network settings with SLAAC from router advertisements.                                                                                                                                 |
| `ipv6.method dhcp`               | `[ipv6]`<br><br>`method=dhcp`               | Configure network settings by using DHCPv6, but not by using SLAAC.                                                                                                                               |
| `ipv6.addresses 2001:db8::a/64`  | `[ipv6]`<br><br>`address1=2001:db8::a/64`   | Set a static IPv6 address and network prefix. When using more than one address for a connection, the `address2` key defines the second address, and the `address3` key defines the third address. |
| `ipv6.gateway 2001:db8::1`       | `[ipv6]`<br><br>`gateway=2001:db8::1`       | Set the default gateway.                                                                                                                                                                          |
| `ipv6.dns fde2:6494:1e09:2::d`   | `[ipv6]`<br><br>`dns=fde2:6494:1e09:2::d`   | Modify `/etc/resolv.conf` to use this name server. The same as IPv4.                                                                                                                              |
| `ipv6.dns-search example.com`    | `[ipv6]`<br><br>`dns-search=example.com`    | Modify `/etc/resolv.conf` to use this domain in the `search` directive.                                                                                                                           |
| `ipv6.ignore-auto-dns true`      | `[ipv6]`<br><br>`ignore-auto-dns=true`      | Ignore DNS server information from the DHCP server.                                                                                                                                               |
| `connection.autoconnect yes`     | `[connection]`<br><br>`autoconnect=true`    | Automatically activate this connection at boot.                                                                                                                                                   |
| `connection.id ens3`             | `[connection]`<br><br>`id=Main eth0`        | The name of this connection.                                                                                                                                                                      |
| `connection.interface-name ens3` | `[connection]`<br><br>`interface-name=ens3` | The connection is bound to the network interface with this name.                                                                                                                                  |
| `802-3-ethernet.mac-address …​`  | `[802-3-ethernet]`<br><br>`mac-address=`    | The connection is bound to the network interface with this MAC address.                                                                                                                           |

  NetworkManager uses the following directories to store the configuration files:
- The `/etc/NetworkManager/system-connections/` directory stores persistent profiles that the user created and edited. NetworkManager copies them automatically to the `/etc/NetworkManager/system-connections/` directory. 
- The `/run/NetworkManager/system-connections/` directory stores temporary profiles, which are automatically removed when you reboot the system.
- The `/usr/lib/NetworkManager/system-connections/` directory stores predeployed immutable profiles. When you edit such a profile with the NetworkManager API, NetworkManager copies this profile to either the persistent or the temporary storage.  

After you modify the configuration files, run the `nmcli con reload` command so that NetworkManager loads the configuration changes. If the `autoconnect` variable is set to `false` in the connection profile, then activate the connection manually.
